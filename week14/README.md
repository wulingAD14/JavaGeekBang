# 设计一个高并发秒杀系统

## 一、需求分析
1. 货品数量有限，100个，可超卖10%。
2. 定时上架。
3. 瞬时并发量高，类似DDOS攻击，预计参加人数1万人。


## 二、设计思路
1. 独立部署，避免对电商网站造成冲击。
2. 与传统商务流程不同，取消后续支付流程。
3. 功能：仅实现商品详情展示、购买、结果通知。
4. 商品详情可提前开放展示，购买按钮在秒杀前置灰，秒杀开始时点亮可用。
5. 秒杀系统初始时设置好商品数量，使用缓存记录库存和秒杀成功的用户id，并返回秒杀成功的确认页面给用户，秒杀过程中不访问数据库。
6. 秒杀结束后，向用户展示秒杀结束的页面，一次性同步秒杀成功的订单信息给电商网站，由电商网站记录订单信息，并生成付款信息给成功用户。


## 三、系统架构
![架构图](https://github.com/wulingAD14/JavaGeekBang/blob/main/week14/miaosha.jpg)